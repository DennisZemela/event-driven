<?xml version="1.0" encoding="UTF-8"?>

<application>
    <name> vAnnotation </name>

    <module>
        <name> zynqGrabber </name>
        <parameters> </parameters>
        <node>icub-zynq</node>
    </module>

    <module>
        <name> vPreProcess </name>
        <parameters>--pepper --undistort --flipx --flipy </parameters>
        <node> icub23 </node>
    </module>

    <module>
        <name> vFramer</name>
        <parameters> --displays "(1 /right (AE BOX))" --eventWindow 0.04 --frameRate 50 --height 240 --width 304 --strict --flip false</parameters>
        <node>icub24</node>
    </module>

    <module>
        <name> BoxConverter</name>
        <parameters>--groupName TRANSFORM_RIGHT --channel 1</parameters>
        <node>icub24</node>
    </module>

    <module>
        <name> yarpdev</name>
        <parameters>--from camera/ServerGrabberDualLeopard.ini --split true --flip true --width 640 --height 240</parameters>
        <node>icub-head</node>
    </module>

    <module>
        <name> camCalib</name>
        <parameters>--context cameraCalibration --from icubEyes_PYTHON.ini --group CAMERA_CALIBRATION_RIGHT --name /icub/camcalib/right</parameters>
        <node>icub24</node>
    </module>

    <module>
        <name> yarpview </name>
        <parameters>--name /viewRight --x 30 --y 30 --w 608 --h 480 --RefreshTime 33 </parameters>
        <node>icub24</node>
    </module>

    <module>
        <name> yarpview </name>
        <parameters>--name /obj_in_scene --x 650 --y 30 --w 608 --h 480 --RefreshTime 33 </parameters>
        <node>icub24</node>
    </module>

    <module>
        <name> online_detection.py </name>
        <workdir>/home/icub/tmp/vObjDetection/object_detection</workdir>
        <dependencies>
            <port>/BoxConverter/boxes:i</port>
            <port>/vFramer/right</port>
        </dependencies>
        <parameters>
        -path_to_model samples/models/ssd_mobilenet_v1_coco_11_06_2017/frozen_inference_graph.pb
        -path_to_labels data/vObjects_label_map.pbtxt
        -im_width 320 -im_height 240 
        </parameters>
        <node>icub-cuda</node>
    </module>

    <module>
        <name> frameGrabberGui2 </name>
        <parameters>--local /icub/fggui --remote /icub/cam/rpc --x 0 --y 350 --width 350 --height 500 </parameters>
        <node>icub23</node>
    </module>

    <module>
        <name> autosaccade </name>
        <parameters>--justSaccade --robotName icub --delay 0.01</parameters>
        <dependencies>
            <port>/iKinGazeCtrl/rpc</port>
        </dependencies>
        <node>icub24</node>
    </module>

    <connection>
        <from>/zynqGrabber/vBottle:o</from>
        <to>/vPreProcess/vBottle:i</to>
        <protocol>udp</protocol>
    </connection>

    <connection>
        <from>/vPreProcess/vBottle:o</from>
        <to>/vFramer/AE:i</to>
        <protocol>udp</protocol>
    </connection>

    <connection>
        <from>/vFramer/right</from>
        <to>/viewRight</to>
        <protocol>udp</protocol>
    </connection>

    <connection>
        <from>/BoxConverter/boxes:o</from>
        <to>/vFramer/BOX:i</to>
        <protocol>udp</protocol>
    </connection>

    <connection>
        <from>/icub/cam/right</from>
        <to>/icub/camcalib/right/in</to>
        <protocol>udp</protocol>
    </connection>


</application>
